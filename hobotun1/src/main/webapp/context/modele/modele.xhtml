<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="head">
        <script type="text/javascript">
            function skinChart() {
                this.cfg.shadow = false;
                this.cfg.title = '';
                this.cfg.seriesColors = ['#FF4081', '#FB8C00', '#43A047', '#8E24AA'];
                this.cfg.grid = {
                    background: '#ffffff',
                    borderColor: '#ffffff',
                    gridLineColor: '#F5F5F5',
                    shadow: false
                };
                this.cfg.axesDefaults = {
                    rendererOptions: {
                        textColor: '#666F77'
                    }
                };
                this.cfg.seriesDefaults = {
                    shadow: false,
                    lineWidth:1,
                    markerOptions: {
                        shadow: false,
                        size:7,
                        style:'circle'
                    }
                }
            }

            function skinPie() {
                this.cfg.seriesColors = ['#dae8ef', '#27aae1', '#33ccff', '#9fadb5'];
                this.cfg.grid = {
                    background: '#ffffff',
                    borderColor: '#eaeaea',
                    gridLineColor: '#e5ebf0',
                    shadow: false,
                    borderWidth: 0
                };
                this.cfg.seriesDefaults.shadow = false;
            }
        </script>
        <style type="text/css">
            .jqplot-target, .jqplot-axis {
                color: #546E7A;
            }
        </style>


        <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>

    </ui:define>
    
    <h:form id="main">
	    <div style="width: 1170px; margin: auto;"> <!-- 1224px;  -->
			<div class="Container100 Responsive100">
				<div class="ContainerIndent">
					<div class="Card" style="padding-top: 17px; padding-left: 6px;">
				        <div class="CardTopic" style="padding-left: 10px;"> 
				        	<a href="../../pages/user/userProfil.jsf?id=1">
				        		<h:graphicImage style="border: 1px solid #8D9090;" styleClass="Fleft MarRight10" url="/GetImage?idImg=#{modele.user.idImage}"></h:graphicImage>
				        	</a>
				            #{modele.modele.nmModel}<br/><br/>
				        	<span class="CardSubTopic Fleft">
				        		<i class="fa fa-user Fs25 Fleft MarRight10"><p:outputLabel value="#{modele.user.login}" styleClass="Fs25" style="padding-left: 10px" /></i>
				        		<i class="fa fa-star-o Fs25 Fleft MarRight10"><p:outputLabel value="#{modele.user.rating_user}" styleClass="Fs25" style="padding-left: 10px" /></i>
							</span>
				            <div class="EmptyBox10"></div>
				        </div>
				        
				        <div class="SeparatorFull" style="margin: 7px -6px 7px; width: 1148px;"></div>
				        
				        <div class="Container100 Responsive100">
				        	<div class="ContainerIndent Fleft">
				        		<h:graphicImage style="cursor: pointer;" styleClass="Fleft MarRight10 #{modele.miniPic1Classes}" url="/GetImage?idImg=#{modele.modele.idImg1min}" rendered="#{modele.visibleImg1}">
				        			<p:ajax event="mouseup" update="main" process="@form" listener="#{modele.select1}" />
				        		</h:graphicImage>
				        	</div>
				        	<div class="ContainerIndent Fleft">
				        		<h:graphicImage style="cursor: pointer;" styleClass="Fleft MarRight10 #{modele.miniPic2Classes}" url="/GetImage?idImg=#{modele.modele.idImg2min}" rendered="#{modele.visibleImg2}">
				        			<p:ajax event="mouseup" update="main" process="@form" listener="#{modele.select2}" />
				        		</h:graphicImage>
				        	</div>
				        	<div class="ContainerIndent Fleft">
				        		<h:graphicImage style="cursor: pointer;" styleClass="Fleft MarRight10 #{modele.miniPic3Classes}" url="/GetImage?idImg=#{modele.modele.idImg3min}" rendered="#{modele.visibleImg3}">
				        			<p:ajax event="mouseup" update="main" process="@form" listener="#{modele.select3}" />
				        		</h:graphicImage>
				        	</div>		
				        	<div class="ContainerIndent Fleft">
				        		<h:graphicImage style="cursor: pointer;" styleClass="Fleft MarRight10 #{modele.miniPic4Classes}" url="/GetImage?idImg=#{modele.modele.idImg4min}" rendered="#{modele.visibleImg4}">
				        			<p:ajax event="mouseup" update="main" process="@form" listener="#{modele.select4}" />
				        		</h:graphicImage>
				        	</div>	
				        	<div class="ContainerIndent Fleft">
				        		<h:graphicImage style="cursor: pointer;" styleClass="Fleft MarRight10 #{modele.miniPic5Classes}" url="/GetImage?idImg=#{modele.modele.idImg5min}" rendered="#{modele.visibleImg5}">
				        			<p:ajax event="mouseup" update="main" process="@form" listener="#{modele.select5}" />
				        		</h:graphicImage>
				        	</div>			        	
				        </div>		
				        
				        <h:graphicImage id="img" width="660" styleClass="ContainerIndent Fleft MarRight10" url="/GetImage?idImg=#{modele.idBigImg}"></h:graphicImage>	
				        
				        <div class="ContainerIndent Fleft MarRight10">
				        	
				        	<table>
				        		<tr>
				        			<td>
				        				<div>
				                            <p:rating styleClass="Fleft" cancel="false" stars="5" value="#{modele.rating}" readonly="#{modele.ratingReadOnly}"> 
				                            	<p:ajax event="rate" listener="#{modele.onRate}" update="main" process="@form" />
				                            </p:rating>
										</div>
				        			</td>
				        			<td>
				        				<p:outputLabel value="#{modele.allRatingModel}" style="padding-left: 10px !important; font-size: 22px;" />
				        			</td>
				        		</tr>
				        	</table>
							
							<div class="EmptyBox10"></div>
							<div style="width: 400px">
							
								<TABLE>
									<TR>
										<TD style="vertical-align: top;"><i class="fa fa-list-ul"></i></TD>
										<TD><p:outputLabel value="#{modele.category.nmCategory}" /></TD>
									</TR>
									<TR>
										<TD style="vertical-align: top;"><i class="fa fa-cog"></i></TD>
										<TD>
											<p:outputLabel value="#{modele.format.nmFormat}" />
											<p:outputLabel value=", присутсвует FBX" rendered="#{modele.modele.fbx == 1}" />
											<p:outputLabel value=", присутсвует OBJ" rendered="#{modele.modele.obj == 1}" />
											<p:outputLabel value=", Текстуры и материалы" rendered="#{modele.modele.texture == 1}" />
										</TD>
									</TR>
									<TR>
										<TD style="vertical-align: top;"><i class="fa fa-floppy-o"></i></TD>
										<TD><p:outputLabel value="#{modele.fileModele.mb} Мб" /></TD>
									</TR>
									<TR>
										<TD style="vertical-align: top;"><i class="fa fa-info-circle"></i></TD>
										<TD><p:outputLabel value="#{modele.modele.tegs}" /></TD>
									</TR>
									<TR>
										<TD style="vertical-align: top;"><i class="fa fa-info-circle"></i></TD>
										<TD><p:outputLabel value="#{modele.modele.description}" /></TD>
									</TR>
									<TR>
										<TD style="vertical-align: top;"><i class="fa fa-rub"></i></TD>
										<TD><p:outputLabel value="#{modele.modele.price}" /></TD>
									</TR>
								</TABLE>

								<div class="EmptyBox10"></div>
								<div class="Separator"></div>
								
									<h:form>
										<h:panelGrid columns="1" rendered="#{!modele.free}">
											<h:column rendered="#{!userSession.user.authorization}">
												<p:outputLabel value="Что бы скачать модель, требуется регистрация" styleClass="Red" />
											</h:column>
											<h:column rendered="#{userSession.user.authorization}">
												<p:selectOneRadio id="console" value="#{modele.provider}">
													<f:selectItem itemLabel="Деньгионлайн" itemValue="1" />
													<f:selectItem itemLabel="Robokassa" itemValue="2" />
												</p:selectOneRadio>
											</h:column>
											<h:column>
												<p:button value="Купить" class="CyanButton" href="#" icon="fa fa-cart-arrow-down" disabled="#{!userSession.user.authorization}"/>
											</h:column>
										</h:panelGrid>
										
										<h:panelGrid columns="1" rendered="#{modele.free}">
											<h:column rendered="#{!userSession.user.authorization}">
												<p:outputLabel value="Что бы скачать модель, требуется регистрация" styleClass="Red" />
											</h:column>
											<h:column>
												<p:commandButton value="Скачать" process="@form" update="@form" ajax="false"
													class="CyanButton" href="#" icon="fa fa-cloud-download" disabled="#{modele.enableAdd}">
													<p:fileDownload value="#{modele.file}" />
												</p:commandButton>
											</h:column>
										</h:panelGrid>
									</h:form>								
							</div>	
							
						</div>

				        <div class="SeparatorFull" style="margin: 7px -6px 7px; width: 1148px; padding-top: 7px;"></div>
				        <div class="EmptyBox10"></div>
				         
						<h:form>
							<table style="padding-left: 10px; margin-top: 0px; width: 100%;">
								<p:dataGrid var="msg" value="#{modele.modeleMsg}" columns="1" paginator="false" id="modeleMsg" layout="grid" paginatorAlwaysVisible="false" >
									<tr style="background: rgba(0, 0, 0, 0.06);">
										<td style="font-size: 18px; height: 40px; color: black; vertical-align: top;">
										
											<table style="width: 154px;">
												<tr><td><p:outputLabel value="#{msg.login}" /></td></tr>
												<tr><td style="text-align: center;"><h:graphicImage url="/GetImage?idImg=#{msg.idImage}" /></td></tr>
												<tr><td><p:outputLabel value="На сайте c #{msg.dtReg}" /></td></tr>
												<tr><td><p:outputLabel value="Рейтинг: #{msg.rating_user}" /></td></tr>
											</table>
										</td>
										<td style="font-size: 18px; height: 40px; width: 938px; color: black; vertical-align: top;">
											<span style="display: block; padding-left:5px; padding-top: 5px; padding-right:5px;">
												<h:outputText value="#{msg.vl_msg}" escape="false" />
											</span>
										</td>
									</tr>													
								</p:dataGrid>
							</table>
						</h:form>

			        </div>
			    </div>
			</div>
		</div>
	</h:form>
</ui:composition>